{"ast":null,"code":"import React,{useState,useEffect}from'react';import{supabase}from'./config';import AdminShell from'./components/AdminShell';import ViewerAccess from'./components/ViewerAccess';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[session,setSession]=useState(undefined);// undefined = loading\nconst[mode,setMode]=useState('admin');// 'admin' | 'viewer'\nuseEffect(()=>{// Get initial session\nsupabase.auth.getSession().then(_ref=>{let{data:{session}}=_ref;setSession(session);});// Listen to auth changes\nconst{data:{subscription}}=supabase.auth.onAuthStateChange((_event,session)=>{setSession(session);});return()=>subscription.unsubscribe();},[]);// Loading state\nif(session===undefined){return/*#__PURE__*/_jsxs(\"div\",{className:\"page-loader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Loading DateUp...\"})]});}// Route to viewer\nif(mode==='viewer'){return/*#__PURE__*/_jsx(ViewerAccess,{onBack:()=>setMode('admin')});}// Route to admin\nreturn/*#__PURE__*/_jsx(AdminShell,{session:session,onSwitchToViewer:()=>setMode('viewer')});}","map":{"version":3,"names":["React","useState","useEffect","supabase","AdminShell","ViewerAccess","jsx","_jsx","jsxs","_jsxs","App","session","setSession","undefined","mode","setMode","auth","getSession","then","_ref","data","subscription","onAuthStateChange","_event","unsubscribe","className","children","onBack","onSwitchToViewer"],"sources":["C:/Users/bobby/OneDrive/Desktop/DateUp-Claude/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from './config';\nimport AdminShell from './components/AdminShell';\nimport ViewerAccess from './components/ViewerAccess';\n\nexport default function App() {\n  const [session, setSession] = useState(undefined); // undefined = loading\n  const [mode, setMode] = useState('admin'); // 'admin' | 'viewer'\n\n  useEffect(() => {\n    // Get initial session\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n    });\n\n    // Listen to auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      setSession(session);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  // Loading state\n  if (session === undefined) {\n    return (\n      <div className=\"page-loader\">\n        <div className=\"spinner\" />\n        <span className=\"text-muted\">Loading DateUp...</span>\n      </div>\n    );\n  }\n\n  // Route to viewer\n  if (mode === 'viewer') {\n    return <ViewerAccess onBack={() => setMode('admin')} />;\n  }\n\n  // Route to admin\n  return <AdminShell session={session} onSwitchToViewer={() => setMode('viewer')} />;\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,UAAU,CACnC,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAACY,SAAS,CAAC,CAAE;AACnD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,OAAO,CAAC,CAAE;AAE3CC,SAAS,CAAC,IAAM,CACd;AACAC,QAAQ,CAACa,IAAI,CAACC,UAAU,CAAC,CAAC,CAACC,IAAI,CAACC,IAAA,EAA2B,IAA1B,CAAEC,IAAI,CAAE,CAAET,OAAQ,CAAE,CAAC,CAAAQ,IAAA,CACpDP,UAAU,CAACD,OAAO,CAAC,CACrB,CAAC,CAAC,CAEF;AACA,KAAM,CAAES,IAAI,CAAE,CAAEC,YAAa,CAAE,CAAC,CAAGlB,QAAQ,CAACa,IAAI,CAACM,iBAAiB,CAAC,CAACC,MAAM,CAAEZ,OAAO,GAAK,CACtFC,UAAU,CAACD,OAAO,CAAC,CACrB,CAAC,CAAC,CAEF,MAAO,IAAMU,YAAY,CAACG,WAAW,CAAC,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAIb,OAAO,GAAKE,SAAS,CAAE,CACzB,mBACEJ,KAAA,QAAKgB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnB,IAAA,QAAKkB,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BlB,IAAA,SAAMkB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,mBAAiB,CAAM,CAAC,EAClD,CAAC,CAEV,CAEA;AACA,GAAIZ,IAAI,GAAK,QAAQ,CAAE,CACrB,mBAAOP,IAAA,CAACF,YAAY,EAACsB,MAAM,CAAEA,CAAA,GAAMZ,OAAO,CAAC,OAAO,CAAE,CAAE,CAAC,CACzD,CAEA;AACA,mBAAOR,IAAA,CAACH,UAAU,EAACO,OAAO,CAAEA,OAAQ,CAACiB,gBAAgB,CAAEA,CAAA,GAAMb,OAAO,CAAC,QAAQ,CAAE,CAAE,CAAC,CACpF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}